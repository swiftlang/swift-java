name: pull_request

on:
    pull_request:
      types: [opened, reopened, synchronize]

jobs:
   tests:
        name: tests
        uses: swiftlang/github-workflows/.github/workflows/swift_package_test.yml@main
        with:
          exclude_swift_versions: "[{\"swift_version\": \"5.8\"}]"
          pre_build_command: "apt-get update -y -q && apt-get install -y -q openjdk-21-jdk make"
          build_command: "make"
          env_vars: |
            JAVA_HOME="/usr/lib/jvm/java-21-openjdk-amd64"
